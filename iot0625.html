<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>0&period; &#x8AB2;&#x7A0B;&#x6E96;&#x5099;</title>
        <style>
/* From extension bierner.markdown-preview-github-styles */
body {
    background: white;
}

.vscode-body {
    box-sizing: border-box;
    min-width: 200px;
    max-width: 980px;
    margin: 0 auto;
    padding: 40px;
    border: 1px solid transparent;
}

.vscode-body blockquote {
    background-color: initial;
}

.vscode-body pre {
    color: initial;
    background: #f7f7f7 !important;
}

.vscode-body code {
    color: inherit;
}

.vscode-body pre code {
    color: initial;
}

.vscode-body code > div {
    background: none
}

.vscode-body table th,
.vscode-body table td {
    border: 1px solid #ddd !important;
}

.vscode-body.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-body.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-body.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-body p,
.vscode-body blockquote,
.vscode-body ul,
.vscode-body ol,
.vscode-body dl,
.vscode-body table,
.vscode-body pre {
  margin-top: 16px;
  margin-bottom: 16px;
}

body.vscode-body::-webkit-scrollbar {
    background-color: white;
}
body.vscode-body::-webkit-scrollbar-thumb {
    background-color: rgba(100, 100, 100, 0.4);
}
body.vscode-body::-webkit-scrollbar-thumb:hover {
    background-color: rgba(100, 100, 100, 0.7);
}

/* Generated from 'node_modules/github-markdown-css/github-markdown.css' */
.vscode-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.vscode-body .anchor {
  float: left;
  line-height: 1;
  margin-left: -20px;
  padding-right: 4px;
}

.vscode-body .anchor:focus {
  outline: none;
}

.vscode-body h1 .octicon-link,
.vscode-body h2 .octicon-link,
.vscode-body h3 .octicon-link,
.vscode-body h4 .octicon-link,
.vscode-body h5 .octicon-link,
.vscode-body h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.vscode-body h1:hover .anchor,
.vscode-body h2:hover .anchor,
.vscode-body h3:hover .anchor,
.vscode-body h4:hover .anchor,
.vscode-body h5:hover .anchor,
.vscode-body h6:hover .anchor {
  text-decoration: none;
}

.vscode-body h1:hover .anchor .octicon-link,
.vscode-body h2:hover .anchor .octicon-link,
.vscode-body h3:hover .anchor .octicon-link,
.vscode-body h4:hover .anchor .octicon-link,
.vscode-body h5:hover .anchor .octicon-link,
.vscode-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.vscode-body h1:hover .anchor .octicon-link:before,
.vscode-body h2:hover .anchor .octicon-link:before,
.vscode-body h3:hover .anchor .octicon-link:before,
.vscode-body h4:hover .anchor .octicon-link:before,
.vscode-body h5:hover .anchor .octicon-link:before,
.vscode-body h6:hover .anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'%3E%3C/path%3E%3C/svg%3E");
}.vscode-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  line-height: 1.5;
  color: #24292e;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.vscode-body details {
  display: block;
}

.vscode-body summary {
  display: list-item;
}

.vscode-body a {
  background-color: initial;
}

.vscode-body a:active,
.vscode-body a:hover {
  outline-width: 0;
}

.vscode-body strong {
  font-weight: inherit;
  font-weight: bolder;
}

.vscode-body h1 {
  font-size: 2em;
  margin: .67em 0;
}

.vscode-body img {
  border-style: none;
}

.vscode-body code,
.vscode-body kbd,
.vscode-body pre {
  font-family: monospace,monospace;
  font-size: 1em;
}

.vscode-body hr {
  box-sizing: initial;
  height: 0;
  overflow: visible;
}

.vscode-body input {
  font: inherit;
  margin: 0;
}

.vscode-body input {
  overflow: visible;
}

.vscode-body [type=checkbox] {
  box-sizing: border-box;
  padding: 0;
}

.vscode-body * {
  box-sizing: border-box;
}

.vscode-body input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.vscode-body a {
  color: #0366d6;
  text-decoration: none;
}

.vscode-body a:hover {
  text-decoration: underline;
}

.vscode-body strong {
  font-weight: 600;
}

.vscode-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
}

.vscode-body hr:after,
.vscode-body hr:before {
  display: table;
  content: "";
}

.vscode-body hr:after {
  clear: both;
}

.vscode-body table {
  border-spacing: 0;
  border-collapse: collapse;
}

.vscode-body td,
.vscode-body th {
  padding: 0;
}

.vscode-body details summary {
  cursor: pointer;
}

.vscode-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  line-height: 10px;
  color: #444d56;
  vertical-align: middle;
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #d1d5da;
}

.vscode-body h1,
.vscode-body h2,
.vscode-body h3,
.vscode-body h4,
.vscode-body h5,
.vscode-body h6 {
  margin-top: 0;
  margin-bottom: 0;
}

.vscode-body h1 {
  font-size: 32px;
}

.vscode-body h1,
.vscode-body h2 {
  font-weight: 600;
}

.vscode-body h2 {
  font-size: 24px;
}

.vscode-body h3 {
  font-size: 20px;
}

.vscode-body h3,
.vscode-body h4 {
  font-weight: 600;
}

.vscode-body h4 {
  font-size: 16px;
}

.vscode-body h5 {
  font-size: 14px;
}

.vscode-body h5,
.vscode-body h6 {
  font-weight: 600;
}

.vscode-body h6 {
  font-size: 12px;
}

.vscode-body p {
  margin-top: 0;
  margin-bottom: 10px;
}

.vscode-body blockquote {
  margin: 0;
}

.vscode-body ol,
.vscode-body ul {
  padding-left: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.vscode-body ol ol,
.vscode-body ul ol {
  list-style-type: lower-roman;
}

.vscode-body ol ol ol,
.vscode-body ol ul ol,
.vscode-body ul ol ol,
.vscode-body ul ul ol {
  list-style-type: lower-alpha;
}

.vscode-body dd {
  margin-left: 0;
}

.vscode-body code,
.vscode-body pre {
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 12px;
}

.vscode-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.vscode-body input::-webkit-inner-spin-button,
.vscode-body input::-webkit-outer-spin-button {
  margin: 0;
  -webkit-appearance: none;
  appearance: none;
}

.vscode-body :checked+.radio-label {
  position: relative;
  z-index: 1;
  border-color: #0366d6;
}

.vscode-body .border {
  border: 1px solid #e1e4e8!important;
}

.vscode-body .border-0 {
  border: 0!important;
}

.vscode-body .border-bottom {
  border-bottom: 1px solid #e1e4e8!important;
}

.vscode-body .rounded-1 {
  border-radius: 3px!important;
}

.vscode-body .bg-white {
  background-color: #fff!important;
}

.vscode-body .bg-gray-light {
  background-color: #fafbfc!important;
}

.vscode-body .text-gray-light {
  color: #6a737d!important;
}

.vscode-body .mb-0 {
  margin-bottom: 0!important;
}

.vscode-body .my-2 {
  margin-top: 8px!important;
  margin-bottom: 8px!important;
}

.vscode-body .pl-0 {
  padding-left: 0!important;
}

.vscode-body .py-0 {
  padding-top: 0!important;
  padding-bottom: 0!important;
}

.vscode-body .pl-1 {
  padding-left: 4px!important;
}

.vscode-body .pl-2 {
  padding-left: 8px!important;
}

.vscode-body .py-2 {
  padding-top: 8px!important;
  padding-bottom: 8px!important;
}

.vscode-body .pl-3,
.vscode-body .px-3 {
  padding-left: 16px!important;
}

.vscode-body .px-3 {
  padding-right: 16px!important;
}

.vscode-body .pl-4 {
  padding-left: 24px!important;
}

.vscode-body .pl-5 {
  padding-left: 32px!important;
}

.vscode-body .pl-6 {
  padding-left: 40px!important;
}

.vscode-body .f6 {
  font-size: 12px!important;
}

.vscode-body .lh-condensed {
  line-height: 1.25!important;
}

.vscode-body .text-bold {
  font-weight: 600!important;
}

.vscode-body .pl-c {
  color: #6a737d;
}

.vscode-body .pl-c1,
.vscode-body .pl-s .pl-v {
  color: #005cc5;
}

.vscode-body .pl-e,
.vscode-body .pl-en {
  color: #6f42c1;
}

.vscode-body .pl-s .pl-s1,
.vscode-body .pl-smi {
  color: #24292e;
}

.vscode-body .pl-ent {
  color: #22863a;
}

.vscode-body .pl-k {
  color: #d73a49;
}

.vscode-body .pl-pds,
.vscode-body .pl-s,
.vscode-body .pl-s .pl-pse .pl-s1,
.vscode-body .pl-sr,
.vscode-body .pl-sr .pl-cce,
.vscode-body .pl-sr .pl-sra,
.vscode-body .pl-sr .pl-sre {
  color: #032f62;
}

.vscode-body .pl-smw,
.vscode-body .pl-v {
  color: #e36209;
}

.vscode-body .pl-bu {
  color: #b31d28;
}

.vscode-body .pl-ii {
  color: #fafbfc;
  background-color: #b31d28;
}

.vscode-body .pl-c2 {
  color: #fafbfc;
  background-color: #d73a49;
}

.vscode-body .pl-c2:before {
  content: "^M";
}

.vscode-body .pl-sr .pl-cce {
  font-weight: 700;
  color: #22863a;
}

.vscode-body .pl-ml {
  color: #735c0f;
}

.vscode-body .pl-mh,
.vscode-body .pl-mh .pl-en,
.vscode-body .pl-ms {
  font-weight: 700;
  color: #005cc5;
}

.vscode-body .pl-mi {
  font-style: italic;
  color: #24292e;
}

.vscode-body .pl-mb {
  font-weight: 700;
  color: #24292e;
}

.vscode-body .pl-md {
  color: #b31d28;
  background-color: #ffeef0;
}

.vscode-body .pl-mi1 {
  color: #22863a;
  background-color: #f0fff4;
}

.vscode-body .pl-mc {
  color: #e36209;
  background-color: #ffebda;
}

.vscode-body .pl-mi2 {
  color: #f6f8fa;
  background-color: #005cc5;
}

.vscode-body .pl-mdr {
  font-weight: 700;
  color: #6f42c1;
}

.vscode-body .pl-ba {
  color: #586069;
}

.vscode-body .pl-sg {
  color: #959da5;
}

.vscode-body .pl-corl {
  text-decoration: underline;
  color: #032f62;
}

.vscode-body .mb-0 {
  margin-bottom: 0!important;
}

.vscode-body .my-2 {
  margin-bottom: 8px!important;
}

.vscode-body .my-2 {
  margin-top: 8px!important;
}

.vscode-body .pl-0 {
  padding-left: 0!important;
}

.vscode-body .py-0 {
  padding-top: 0!important;
  padding-bottom: 0!important;
}

.vscode-body .pl-1 {
  padding-left: 4px!important;
}

.vscode-body .pl-2 {
  padding-left: 8px!important;
}

.vscode-body .py-2 {
  padding-top: 8px!important;
  padding-bottom: 8px!important;
}

.vscode-body .pl-3 {
  padding-left: 16px!important;
}

.vscode-body .pl-4 {
  padding-left: 24px!important;
}

.vscode-body .pl-5 {
  padding-left: 32px!important;
}

.vscode-body .pl-6 {
  padding-left: 40px!important;
}

.vscode-body .pl-7 {
  padding-left: 48px!important;
}

.vscode-body .pl-8 {
  padding-left: 64px!important;
}

.vscode-body .pl-9 {
  padding-left: 80px!important;
}

.vscode-body .pl-10 {
  padding-left: 96px!important;
}

.vscode-body .pl-11 {
  padding-left: 112px!important;
}

.vscode-body .pl-12 {
  padding-left: 128px!important;
}

.vscode-body hr {
  border-bottom-color: #eee;
}

.vscode-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  line-height: 10px;
  color: #444d56;
  vertical-align: middle;
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #d1d5da;
}

.vscode-body:after,
.vscode-body:before {
  display: table;
  content: "";
}

.vscode-body:after {
  clear: both;
}

.vscode-body>:first-child {
  margin-top: 0!important;
}

.vscode-body>:last-child {
  margin-bottom: 0!important;
}

.vscode-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.vscode-body blockquote,
.vscode-body details,
.vscode-body dl,
.vscode-body ol,
.vscode-body p,
.vscode-body pre,
.vscode-body table,
.vscode-body ul {
  margin-top: 0;
  margin-bottom: 16px;
}

.vscode-body hr {
  height: .25em;
  padding: 0;
  margin: 24px 0;
  background-color: #e1e4e8;
  border: 0;
}

.vscode-body blockquote {
  padding: 0 1em;
  color: #6a737d;
  border-left: .25em solid #dfe2e5;
}

.vscode-body blockquote>:first-child {
  margin-top: 0;
}

.vscode-body blockquote>:last-child {
  margin-bottom: 0;
}

.vscode-body h1,
.vscode-body h2,
.vscode-body h3,
.vscode-body h4,
.vscode-body h5,
.vscode-body h6 {
  margin-top: 24px;
  margin-bottom: 16px;
  font-weight: 600;
  line-height: 1.25;
}

.vscode-body h1 {
  font-size: 2em;
}

.vscode-body h1,
.vscode-body h2 {
  padding-bottom: .3em;
  border-bottom: 1px solid #eaecef;
}

.vscode-body h2 {
  font-size: 1.5em;
}

.vscode-body h3 {
  font-size: 1.25em;
}

.vscode-body h4 {
  font-size: 1em;
}

.vscode-body h5 {
  font-size: .875em;
}

.vscode-body h6 {
  font-size: .85em;
  color: #6a737d;
}

.vscode-body ol,
.vscode-body ul {
  padding-left: 2em;
}

.vscode-body ol ol,
.vscode-body ol ul,
.vscode-body ul ol,
.vscode-body ul ul {
  margin-top: 0;
  margin-bottom: 0;
}

.vscode-body li {
  word-wrap: break-all;
}

.vscode-body li>p {
  margin-top: 16px;
}

.vscode-body li+li {
  margin-top: .25em;
}

.vscode-body dl {
  padding: 0;
}

.vscode-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
}

.vscode-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.vscode-body table {
  display: block;
  width: 100%;
  overflow: auto;
}

.vscode-body table th {
  font-weight: 600;
}

.vscode-body table td,
.vscode-body table th {
  padding: 6px 13px;
  border: 1px solid #dfe2e5;
}

.vscode-body table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.vscode-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

.vscode-body img {
  max-width: 100%;
  box-sizing: initial;
  background-color: #fff;
}

.vscode-body img[align=right] {
  padding-left: 20px;
}

.vscode-body img[align=left] {
  padding-right: 20px;
}

.vscode-body code {
  padding: .2em .4em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(27,31,35,.05);
  border-radius: 3px;
}

.vscode-body pre {
  word-wrap: normal;
}

.vscode-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.vscode-body .highlight {
  margin-bottom: 16px;
}

.vscode-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.vscode-body .highlight pre,
.vscode-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f6f8fa;
  border-radius: 3px;
}

.vscode-body pre code {
  display: inline;
  max-width: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  line-height: inherit;
  word-wrap: normal;
  background-color: initial;
  border: 0;
}

.vscode-body .commit-tease-sha {
  display: inline-block;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 90%;
  color: #444d56;
}

.vscode-body .full-commit .btn-outline:not(:disabled):hover {
  color: #005cc5;
  border-color: #005cc5;
}

.vscode-body .blob-wrapper {
  overflow-x: auto;
  overflow-y: hidden;
}

.vscode-body .blob-wrapper-embedded {
  max-height: 240px;
  overflow-y: auto;
}

.vscode-body .blob-num {
  width: 1%;
  min-width: 50px;
  padding-right: 10px;
  padding-left: 10px;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 12px;
  line-height: 20px;
  color: rgba(27,31,35,.3);
  text-align: right;
  white-space: nowrap;
  vertical-align: top;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.vscode-body .blob-num:hover {
  color: rgba(27,31,35,.6);
}

.vscode-body .blob-num:before {
  content: attr(data-line-number);
}

.vscode-body .blob-code {
  position: relative;
  padding-right: 10px;
  padding-left: 10px;
  line-height: 20px;
  vertical-align: top;
}

.vscode-body .blob-code-inner {
  overflow: visible;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 12px;
  color: #24292e;
  word-wrap: normal;
  white-space: pre;
}

.vscode-body .pl-token.active,
.vscode-body .pl-token:hover {
  cursor: pointer;
  background: #ffea7f;
}

.vscode-body .tab-size[data-tab-size="1"] {
  -moz-tab-size: 1;
  tab-size: 1;
}

.vscode-body .tab-size[data-tab-size="2"] {
  -moz-tab-size: 2;
  tab-size: 2;
}

.vscode-body .tab-size[data-tab-size="3"] {
  -moz-tab-size: 3;
  tab-size: 3;
}

.vscode-body .tab-size[data-tab-size="4"] {
  -moz-tab-size: 4;
  tab-size: 4;
}

.vscode-body .tab-size[data-tab-size="5"] {
  -moz-tab-size: 5;
  tab-size: 5;
}

.vscode-body .tab-size[data-tab-size="6"] {
  -moz-tab-size: 6;
  tab-size: 6;
}

.vscode-body .tab-size[data-tab-size="7"] {
  -moz-tab-size: 7;
  tab-size: 7;
}

.vscode-body .tab-size[data-tab-size="8"] {
  -moz-tab-size: 8;
  tab-size: 8;
}

.vscode-body .tab-size[data-tab-size="9"] {
  -moz-tab-size: 9;
  tab-size: 9;
}

.vscode-body .tab-size[data-tab-size="10"] {
  -moz-tab-size: 10;
  tab-size: 10;
}

.vscode-body .tab-size[data-tab-size="11"] {
  -moz-tab-size: 11;
  tab-size: 11;
}

.vscode-body .tab-size[data-tab-size="12"] {
  -moz-tab-size: 12;
  tab-size: 12;
}

.vscode-body .task-list-item {
  list-style-type: none;
}

.vscode-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.vscode-body .task-list-item input {
  margin: 0 .2em .25em -1.6em;
  vertical-align: middle;
}

/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
}

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080;
}

.hljs-string,
.hljs-doctag {
  color: #d14;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold;
}

.hljs-subst {
  font-weight: normal;
}

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal;
}

.hljs-regexp,
.hljs-link {
  color: #009926;
}

.hljs-symbol,
.hljs-bullet {
  color: #990073;
}

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3;
}

.hljs-meta {
  color: #999;
  font-weight: bold;
}

.hljs-deletion {
  background: #fdd;
}

.hljs-addition {
  background: #dfd;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}

</style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>

</style>
        <script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
        
    </head>
    <body class="vscode-body vscode-light">
        <hr>
<p>title: 物聯網綜合應用(一)<br>
top: false<br>
cover: false<br>
toc: true<br>
mathjax: false<br>
comments: true<br>
date: 2021-06-02 12:23:55<br>
urlname: iot<br>
author: allen<br>
img:<br>
coverImg:<br>
password:<br>
summary:<br>
tags:</p>
<ul>
<li>iot</li>
<li>wiot<br>
categories:</li>
<li>iot</li>
</ul>
<hr>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js'></script>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.css' />
<script src='https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.js'></script>
<h2 id="0-課程準備">0. 課程準備</h2>
<ol>
<li><a href="https://drive.google.com/drive/folders/1YhOhREq4PmGqmGdS4rLc_dzmm0w92UTs?usp=sharing">雲端硬碟</a></li>
<li><a href="https://www.youtube.com/embed/zvrGOu8QFSo">生活智慧屋展示</a><br>
<br><iframe width="560" height="315" src="https://www.youtube.com/embed/zvrGOu8QFSo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</li>
<li><a href="https://drive.google.com/file/d/1EYgZEVWCqUnCRPuZ4-5JPg1hLfFeTPQs/view?usp=sharing">講義</a></li>
</ol>
<h2 id="1-硬體建置">1. 硬體建置</h2>
<h3 id="11-配線圖">1.1 配線圖</h3>
<ul>
<li>
<p>樹莓派腳位圖</p>
<p><a data-fancybox="gallery" href='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210602102127.png'><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210602102127_s.png' class="nofancybox  img-center" /></a></p>
</li>
<li>
<p>樹莓派與其他裝置連接腳位圖</p>
<table>
<thead>
<tr>
<th style="text-align:left">PI3 B+ 腳位</th>
<th style="text-align:left">PI3 B+ 功能描述</th>
<th style="text-align:left">其他裝置腳位</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">PI3 B+ 18</td>
<td style="text-align:left">GPIO 24</td>
<td style="text-align:left">Buzzer I/O</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 2</td>
<td style="text-align:left">5V Power</td>
<td style="text-align:left">Buzzer VCC、SG 900 VCC(紅)</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 6</td>
<td style="text-align:left">GND</td>
<td style="text-align:left">Buzzer GND、SG 900 GND(褐)</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 11</td>
<td style="text-align:left">GPIO 17</td>
<td style="text-align:left">DHT 11 Out</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 4</td>
<td style="text-align:left">5V Power</td>
<td style="text-align:left">DHT +</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 20</td>
<td style="text-align:left">GND</td>
<td style="text-align:left">DHT -</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 12</td>
<td style="text-align:left">GPIO 18 PCM_CLK</td>
<td style="text-align:left">SG 900 訊號(橘)</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 37</td>
<td style="text-align:left">GPIO 26</td>
<td style="text-align:left">RELAY IN1</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 13</td>
<td style="text-align:left">GPIO 27</td>
<td style="text-align:left">RELAY IN2</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 15</td>
<td style="text-align:left">GPIO 22</td>
<td style="text-align:left">RELAY IN3</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 16</td>
<td style="text-align:left">GPIO 23</td>
<td style="text-align:left">RELAY IN4</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 24</td>
<td style="text-align:left">GPIO  8 SPIO_CE0_N</td>
<td style="text-align:left">RFID RC522 SDA</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 23</td>
<td style="text-align:left">GPIO 11 SPIO_SCLK</td>
<td style="text-align:left">RFID RC522 SCK</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 19</td>
<td style="text-align:left">GPIO 10 SPIO_MOSI</td>
<td style="text-align:left">RFID RC522 MOSI</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 21</td>
<td style="text-align:left">GPIO  9 SPIO_MISO</td>
<td style="text-align:left">RFID RC522 MISO</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 25</td>
<td style="text-align:left">GND</td>
<td style="text-align:left">RFID RC522 GND</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 22</td>
<td style="text-align:left">GPIO 25</td>
<td style="text-align:left">RFID RC522 RST</td>
</tr>
<tr>
<td style="text-align:left">PI3 B+ 17</td>
<td style="text-align:left">3V3 Power</td>
<td style="text-align:left">RFID RC522 3.3V</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="12-網路設定參考">1.2 網路設定參考</h3>
<p>有兩處可以修正網卡設定，擇一來設定，第一種方法會優先。</p>
<ol>
<li>
<p><code>sudo nano /etc/dhcpcd.conf</code></p>
</li>
<li>
<p><code>sudo nano /etc/network/interfaces</code></p>
<pre><code class="language-conf"><code><div>#表示使用 localhost
auto lo 
# 有網路卡 eth0，則用靜態方式設定 IP:
iface eth0 inet static
static ip_address=192.168.57.40
static routers=192.168.57.254
static domain_name_servers=8.8.8.8 168.95.1.1

# DHCP
#iface eth0 inet dhcp
# 有網路卡 eth0，則使用 dhcp 獲取 IP:
#static domain_name_servers=8.8.#8.8 168.95.1.1

# Wifi
#auto wlan0 #有 WLAN 使用 wlan0 裝置名稱
#wlan裝置可以熱拔插
#allow-hotplug wlan0
#有WLAN 網路時，使用 wpa-psk 認證方式
#iface wlan0 inet dhcp
#wpa-ssid &quot;yvts&quot;
#wpa-psk  &quot;yvtsyvts&quot;
</div></code></code></pre>
<p><strong>重新啟動</strong><br>
<code>sudo /etc/init.d/networking restart</code></p>
</li>
</ol>
<h2 id="2-環境設置">2. 環境設置</h2>
<h3 id="21-ssh-免密碼登入">2.1 SSH 免密碼登入</h3>
<ol>
<li>
<p>使用系統管理者權限，修改檔案 <code>c:\windows\system32\drivers\etc\hosts</code></p>
<p>增加一筆資料如下:</p>
<pre><code class="language-bash"><div>192.168.xxx.xxx    smarthome.edu.tw
</div></code></pre>
</li>
<li>
<p>測試:</p>
<pre><code class="language-bash"><div>ping smarthome.edu.tw
</div></code></pre>
</li>
<li>
<p>本機端(Window)，安裝 <a href="https://git-scm.com/downloads">Git</a></p>
</li>
<li>
<p>設定識別資料, 使用 <code>Git bash</code> 開啟終端機視窗後，執行如下命令:</p>
<pre><code class="language-bash"><div>git config --global user.name  <span class="hljs-string">&quot;John Doe&quot;</span>
git config --global user.email  johndoe@example.com

<span class="hljs-comment">#指定編輯器</span>
git config --global core.editor <span class="hljs-string">&quot;&#x27;C:/Program Files (x86)/Notepad++/notepad++.exe&#x27; -multiInst -nosession&quot;</span>
<span class="hljs-comment">#or</span>
git config --global core.editor <span class="hljs-string">&quot;&#x27;C:/tools/nano.exe&#x27; -multiInst -nosession&quot;</span>   
git config --list
</div></code></pre>
</li>
<li>
<p>配置 <code>sshd</code> 服務，允許認證金鑰檔案:</p>
<pre><code class="language-bash"><div><span class="hljs-comment">#登入 PI</span>
ssh pi@smarthome.edu.tw
<span class="hljs-comment">#修改 SSH Daemon 服務組態檔</span>
sudo nano /etc/ssh/sshd_config
<span class="hljs-comment"># 將最前面的註解符號 `#` 取消掉，如下</span>
  AuthorizedKeysFile      .ssh/authorized_keys
</div></code></pre>
</li>
<li>
<p>在定時備份或批次遠端處理，往往需要免密碼登入遠端主機工作。為達此目的，首先必須在 client 端產生一組 key，包含公開金鑰（Public Key）與私密金鑰（Private Key），將公鑰送到要登入的主機，相互對應做免密碼的登入。</p>
<pre><code class="language-bash"><div><span class="hljs-comment">#檢查有無私鑰與公鑰(本機端 PC)</span>
ls -al ~/.ssh/id_rsa.pub
ls -al ~/.ssh/id_rsa
<span class="hljs-comment">#若沒有金鑰的話，key 的產生方法：</span>
ssh-keygen -t rsa -C xxx@gmail.com

Generating public/private rsa key pair.
Enter file <span class="hljs-keyword">in</span> <span class="hljs-built_in">which</span> to save the key (/root/.ssh/id_rsa):
Enter passphrase (empty <span class="hljs-keyword">for</span> no passphrase):
Enter same passphrase again:
Your identification has been saved <span class="hljs-keyword">in</span> /root/.ssh/id_rsa.
Your public key has been saved <span class="hljs-keyword">in</span> /root/.ssh/id_rsa.pub.
The key fingerprint is:
c3:e9:25:65:00:c8:65:cb:e8:fe:4e:7e:ce:06:a4:9d root@kvm8.deyu.wang
The key<span class="hljs-string">&#x27;s randomart image is:
+--[ RSA 2048]----+
|   . o+..        |
|    o+ . .       |
|    . o   o      |
|   .  .. +       |
|    .+ .S .      |
|   .. E. +       |
|    . ...        |
|     + .o        |
|     .++o        |
+-----------------+
</span></div></code></pre>
</li>
<li>
<p>將公開金鑰放到要登入的主機上，利用以下指令完成:</p>
<pre><code class="language-bash"><div>ssh pi@smarthome.edu.tw <span class="hljs-string">&#x27;mkdir -p ~/.ssh; cat &gt;&gt; ~/.ssh/authorized_keys&#x27;</span> &lt; ~/.ssh/id_rsa.pub
</div></code></pre>
</li>
<li>
<p>登入測試</p>
<pre><code class="language-bash"><div>ssh pi@smarthome.edu.tw
</div></code></pre>
<blockquote>
<p>特別注意目錄 .ssh 及檔案 authorized_keys 的權限，若群組或其他人的權限過大，除了安全性有問題外，也有可能因 ssh 判斷要對應的金鑰不安全，而無法對應，也就是不能免密碼登入。</p>
</blockquote>
</li>
<li>
<p>調整權限<br>
設定 PI 上的authorized_keys 可讀、寫</p>
<pre><code class="language-bash"><div>ssh pi@smarthome.edu.tw <span class="hljs-string">&quot;chmod 600 ~/.ssh/authorized_keys&quot;</span>
<span class="hljs-comment"># 設定 PI 上的authorized_keys 唯讀</span>
   ssh pi@smarthome.wda.edu.tw <span class="hljs-string">&quot;chmod 400 ~/.ssh/authorized_keys&quot;</span>
</div></code></pre>
</li>
<li>
<p>再簡化登入程序: 本機 PC 端，加入 <code>config</code>, 簡化 <code>ssh</code> 登入指令</p>
<ul>
<li>
<p>在 <code>~/.ssh</code> 下新增 <code>config</code> 檔案，不需任何副檔名。</p>
</li>
<li>
<p>在新增的檔案裡加上你的第一個 SSH config</p>
<p><code>nano ~/.ssh/config</code></p>
<pre><code class="language-bash"><div>Host pi                    <span class="hljs-comment"># 用來連線的 alias 名稱</span>
HostName smarthome.edu.tw  <span class="hljs-comment"># host domain 或 ip</span>
Port 22                    <span class="hljs-comment"># host 的 SSH port</span>
User pi                    <span class="hljs-comment"># (選填)登入 SSH 的 username，</span>
                           <span class="hljs-comment">#  只連 git 的話，可以不必要</span>
ForwardX11 yes             <span class="hljs-comment"># (選填) 啟用回傳 GUI</span>
</div></code></pre>
</li>
<li>
<p>測試<br>
<code>ssh pi</code></p>
</li>
</ul>
</li>
<li>
<p>常用 SSH 指令</p>
<pre><code class="language-bash"><div><span class="hljs-comment">#基本連線</span>
ssh username@hostname[ip]  
<span class="hljs-comment">#SSH 連線再附加其他指令</span>
ssh pi mkdir <span class="hljs-built_in">test</span>
<span class="hljs-comment">#scp 指定 SSH name</span>
scp -r ./ pi:/var/www/html/project/
</div></code></pre>
</li>
<li>
<p>本機電腦端設定:</p>
<pre><code class="language-bash"><div>d:
<span class="hljs-built_in">cd</span> d:\xampp\htdocs

<span class="hljs-comment">#打開現行工作目錄</span>
code .
</div></code></pre>
<p>然後在 <code>vscode</code> 視窗下建立一新目錄 <code>smarthome</code>，就可以點擊滑鼠左鍵，來執行下載樹莓派檔案。</p>
</li>
<li>
<p>安裝 vscode 的套件 <code>sftp</code><br>
F1 或 Ctrl+Shift+P, 選擇 SFTP:Config</p>
<p>加入以下設定:</p>
<pre><code class="language-bash"><div>[
   {
       :
   } ,

   {
    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;My Server&quot;</span>,
    <span class="hljs-string">&quot;host&quot;</span>: <span class="hljs-string">&quot;smarthome.edu.tw&quot;</span>,
    <span class="hljs-string">&quot;protocol&quot;</span>: <span class="hljs-string">&quot;sftp&quot;</span>,
    <span class="hljs-string">&quot;port&quot;</span>: 22,
    <span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;pi&quot;</span>,
    <span class="hljs-string">&quot;privateKeyPath&quot;</span>: <span class="hljs-string">&quot;C:/Users/allen/.ssh/id_rsa&quot;</span>,
    <span class="hljs-string">&quot;remotePath&quot;</span>: <span class="hljs-string">&quot;/home/pi/www&quot;</span>,
    <span class="hljs-string">&quot;uploadOnSave&quot;</span>: <span class="hljs-literal">true</span>
  }
]  
</div></code></pre>
</li>
</ol>
<h3 id="22-安裝-apache--mysql-php">2.2 安裝 <code>Apache + MySQL+ PHP</code></h3>
<ol>
<li>
<p>更新軟體套件清單<br>
<code>sudo apt get update y</code></p>
</li>
<li>
<p>更新軟體套件本身<br>
<code>sudo apt get upgrade y</code></p>
</li>
<li>
<p>重啟<br>
<code>reboot</code></p>
</li>
</ol>
<h4 id="221-安裝-apache-php">2.2.1 安裝 Apache PHP</h4>
<ol>
<li>
<p>安裝軟體</p>
<pre><code class="language-bash"><div>sudo apt get install apache2 y
sudo apt get install php mysql y
sudo apt get install php mbstring y
sudo systemctl restart apache2
sudo nano /etc/apache2 apache2.conf <span class="hljs-comment">## 設定文件</span>
</div></code></pre>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601160012.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601160012_s.png" class="nofancybox  img-center" /></a><br>
</br><br>
<a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601160111.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601160111_s.png" class="nofancybox  img-center" /></a></p>
<p><code>sudo nano /etc/ports.conf</code></p>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601160507.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601160507_s.png" class="nofancybox  img-center" /></a></p>
<p><strong>重啟伺服器</strong><br>
<code>sudo systemctl restart apache2</code></p>
</li>
<li>
<p>驗證 <code>apache</code> 正常運作：</p>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601161921.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601161921_s.png" class="nofancybox  img-center" /></a></p>
<pre><code class="language-bash"><div><span class="hljs-built_in">cd</span> /var/www/html/
sudo mv index.html index1.html
</div></code></pre>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601162829.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601162829_s.png" class="nofancybox  img-center" /></a></p>
</li>
<li>
<p>修改根目錄：</p>
<pre><code class="language-bash"><div>mkdir -p /home/pi/www/web
sudo chown -R pi:www-data /home/pi/www/web
chmod -R 770 /home/pi/www/web
sudo nano /etc/apache2/apache2.conf
</div></code></pre>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601165908.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601165908_s.png" class="nofancybox  img-center" /></a></p>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601165936.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601165936_s.png" class="nofancybox  img-center" /></a></p>
<p><code>sudo nano /etc/apache2/sites-enabled/000-default.conf</code></p>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601163545.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601163545_s.png" class="nofancybox  img-center" /></a></p>
<blockquote>
<p>cd /etc/apache2/sites-available<br>
sudo ln -s /etc/apache2/sites-enabled/000-default.conf<br>
sudo systemctl restart apache2</p>
</blockquote>
</li>
<li>
<p>加入虛擬新網域</p>
<ul>
<li>
<p>新網域名稱: <code>smarthome.edu.tw</code></p>
</li>
<li>
<p>建立資料夾: <code>mkdir ~/www/smarthome</code></p>
</li>
<li>
<p>修改現有檔案: <code>nano /etc/apache2/sites-enabled/000-default.conf</code></p>
<pre><code class="language-conf"><code><div>&lt;VirtualHost *:80&gt;
  ServerName smarthome.edu.tw
  #ServerAdmin webmaster@localhost
  DocumentRoot /home/pi/www/smarthome

  &lt;Directory /home/pi/www/smarthome&gt;
    Options indexes FollowSymLinks
    AllowOverride None
    Require all granted
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</div></code></code></pre>
</li>
</ul>
</li>
<li>
<p>重啟 <code>Apache</code> 伺服器<br>
<code>sudo systemctl restart apache2</code></p>
</li>
<li>
<p>開啟 <code>PHP</code> 錯誤日誌<br>
<code>sudo nano /etc/php/7.0/apache2/php.ini</code></p>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601163646.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601163646_s.png" class="nofancybox  img-center" /></a></p>
</li>
</ol>
<h4 id="222-安裝-mysql">2.2.2 安裝 MySQL</h4>
<ul>
<li>
<p>安裝<br>
<code>apt cache search mysql server</code><br>
<code>sudo apt get install mysql server</code></p>
</li>
<li>
<p>Setting MySQL/MariaDB root password</p>
<pre><code class="language-bash"><div>sudo mysql u root p
mysql&gt; use mysql;
mysql&gt; update user <span class="hljs-built_in">set</span> plugin=<span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-built_in">where</span> u ser=<span class="hljs-string">&#x27;root&#x27;</span>;
mysql&gt; flush privileges;

(刷新權限，當你直接通過 update 權限後，需要通過刷新使你的授權有效)

mysql&gt; <span class="hljs-built_in">exit</span>
sudo mysql_secure_installation
sudo mysql u root p
</div></code></pre>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601170430.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601170430_s.png" class="nofancybox  img-center" /></a></p>
<p><a href="https://websiteforstudents.com/mariadb--installedinstalled--witwithouthout--passwordpassword--promptsprompts--forfor--rootroot--onon--ubuntuubuntu--1717--1010--1818--0404--beta/beta/">參考文獻</a></p>
</li>
</ul>
<h4 id="223-安裝-phpmyadmin">2.2.3 安裝 phpmyadmin</h4>
<ul>
<li>
<p>安裝 <code>sudo nano ~/www/web/info.php</code></p>
<p>內容加入：</p>
<pre><code class="language-php"><div><span class="hljs-meta">&lt;?php</span>
  phpinfo();
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601191331.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601191331_s.png" class="nofancybox  img-center"/></a></p>
</li>
<li>
<p>檢查 <code>MySql</code> 版本</p>
<p><code>sudo mysql --version</code></p>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601191548.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601191548_s.png" class="nofancybox  img-center"/></a></p>
</li>
<li>
<p>檢查 <code>PHP</code> 版本<br>
<code>sudo php --version</code></p>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601191856.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601191856_s.png" /></a></p>
</li>
<li>
<p>找尋下載檔案 <a href="https://www.phpmyadmin.net/downloads/">phpmyadmin</a></p>
<p><a href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601192053.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601192053_s.png" class="nofancybox  img-center" /></a></p>
<blockquote>
<p>補充:<br>
不可以使用 phpmyadmin 4.9+snapshot 的版本(不支援繁體中文，不穩定版本)</p>
</blockquote>
</li>
<li>
<p>下載與安裝</p>
<pre><code class="language-yml"><div><span class="hljs-string">cd</span> <span class="hljs-string">~/www/web/</span>
<span class="hljs-string">sudo</span> <span class="hljs-string">wget</span> <span class="hljs-string">https://files.phpmyadmin.net/phpMyAdmin/4.7.3/phpMyAdmin-4.7.3-alllanguages.tar.gz</span>
<span class="hljs-string">sudo</span> <span class="hljs-string">tar</span> <span class="hljs-string">-zxvf</span> <span class="hljs-string">phpMyAdmin-4.7.3-all-languages.tar.gz</span>
<span class="hljs-string">sudo</span> <span class="hljs-string">mv</span> <span class="hljs-string">phpMyAdmin-4.7.3-all-languages</span> <span class="hljs-string">phpMyAdmin</span>
</div></code></pre>
</li>
</ul>
<h4 id="224-解決-缺少-tmp-與-移除其他警告訊息">2.2.4 解決 缺少 tmp 與 移除其他警告訊息</h4>
<ul>
<li>現象<br>
<a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601194654.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601194654_s.png" class="nofancybox  img-center" /></a>
<ul>
<li>
<p>解決 1: 移除設定檔案需要設定一組加密密碼 (blowfish_secret)</p>
<pre><code class="language-bash"><div>sudo cp /var/www/html/phpMyAdmin/config.sample.inc.php  ~/www/web/phpMyAdmin/config.inc.php
</div></code></pre>
<p><code>sudo nano ~/www/web/phpMyAdmin/config.inc.php</code></p>
<p>將檔案內的 <code>$cfg['blowfish_secret'] = '';</code><br>
設定為 ：(至少要 32 個字元)</p>
<p><code>$cfg['blowfish_secret'] = 'xxxxxxxxxxxxxxxx';</code></p>
<blockquote>
<p>意思是：加上一堆亂七八糟的英文數字當作秘鑰</p>
</blockquote>
</li>
<li>
<p>解決 2: 移除 <code>tmp</code> 警告訊息</p>
<pre><code class="language-bash"><div>sudo rm -rf /var/www/html/phpMyAdmin/tmp(若本來就存在，刪除再新增)
sudo mkdir /var/www/html/phpMyAdmin/tmp
sudo chmod 777 /var/www/html/phpMyAdmin/tm
</div></code></pre>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601195724.png"><img src="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/20210601195724_s.png" class="nofancybox  img-center" /></a></p>
</li>
</ul>
</li>
</ul>
<h2 id="3-影像串流--mjpg-streamer-for-webcam">3. 影像串流  MJPG-STREAMER for WebCam</h2>
<h3 id="31-說明">3.1 說明</h3>
<p>  安裝 <code>mjpg-streamer</code>， <code>mjpg-streamer</code> 是用來將視訊網路串流化，透過 <code>mjpg</code> 裡面的解碼器，可以讓影像擷取速率以及畫質有良好的表現。</p>
<ul>
<li>
<p><a href="http://www.linux-projects.org/uv4l/installation/">參考文獻</a></p>
</li>
<li>
<p>PI 上安裝影像串流(mjpg-streamer)，把 <code>Raspberry Pi</code> 轉成 <code>Webcam server</code></p>
</li>
<li>
<p>PI 上安裝 <code>Motion</code>， 動態捕捉, 依照間格時間來抓取.</p>
</li>
</ul>
<h3 id="32-安裝相關套件">3.2 安裝相關套件</h3>
<ul>
<li>
<p>步驟</p>
<pre><code class="language-bash"><div><span class="hljs-comment">#更新 apt-get</span>
sudo apt-get update
sudo apt-get upgrade
<span class="hljs-comment">#安裝依賴包</span>
sudo apt-get install subversion
sudo apt-get install libjpeg-dev
sudo apt-get install imagemagick
sudo apt-get install libv4l-dev
</div></code></pre>
</li>
</ul>
<h3 id="33-安裝-mjpg-streamer">3.3 安裝 <code>mjpg-streamer</code></h3>
<ul>
<li>
<p>步驟</p>
<pre><code class="language-bash"><div>mkdir ~/<span class="hljs-built_in">source</span>
<span class="hljs-built_in">cd</span> ~/<span class="hljs-built_in">source</span>
<span class="hljs-comment"># 利用 svn 把最新版的 mjpg-streamer 抓下來</span>
svn co https://svn.code.sf.net/p/mjpg-streamer/code/
<span class="hljs-built_in">cd</span> code/mjpg-streamer
make
sudo make install

<span class="hljs-comment"># 拷貝到 *.so /usr/local/lib</span>
sudo cp  *.so /usr/<span class="hljs-built_in">local</span>/lib/.
<span class="hljs-comment"># 拷貝到 mjpg_streamer 到 /usr/local/bin</span>
sudo cp mjpg_streamer  /usr/<span class="hljs-built_in">local</span>/bin/.
</div></code></pre>
</li>
</ul>
<h3 id="34-停止-motion">3.4 停止 <code>motion</code></h3>
<ul>
<li>
<p>步驟</p>
<pre><code class="language-bash"><div><span class="hljs-comment">#如果 motion 還在啟動中，先停掉</span>
sudo service motion stop
</div></code></pre>
</li>
</ul>
<h3 id="35-啟動-mjpg-streamer">3.5 啟動 <code>mjpg-streamer</code></h3>
<ul>
<li>
<p>步驟</p>
<pre><code class="language-bash"><div><span class="hljs-comment"># 先打開 pi carmera</span>
sudo raspi-config
</div></code></pre>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_mjpeg-streamer-1.png"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_mjpeg-streamer-1_s.png' class='nofancybox  img-center' /></a></p>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_mjpeg-streamer-2.png"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_mjpeg-streamer-2_s.png' class='nofancybox  img-center' /></a></p>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_mjpeg-streamer-3.png"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_mjpeg-streamer-3_s.png' class='nofancybox  img-center' /></a></p>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_mjpeg-streamer-4.png"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_mjpeg-streamer-4_s.png' class='nofancybox  img-center' /></a></p>
<p><strong>須重開機</strong></p>
<pre><code class="language-bash"><div><span class="hljs-built_in">cd</span> ~/<span class="hljs-built_in">source</span>/code/mjpg-streamer
sudo ./mjpg_streamer -i <span class="hljs-string">&quot;./input_uvc.so -f 10 -r 1024x768 -d /dev/video0 -y -n&quot;</span> -o <span class="hljs-string">&quot;./output_http.so -w ./www -p 8080&quot;</span>
</div></code></pre>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_mjpeg-streamer-5.png"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_mjpeg-streamer-5_s.png' class='nofancybox  img-center' /></a></p>
<blockquote>
<p><code>320x240</code> 也可以修改為 <code>640x480</code>，如果啟動失敗，請再執行下列程序:</p>
</blockquote>
<pre><code class="language-bash"><div>sudo nano  /etc/modules
</div></code></pre>
<p>#加入以下內容 :<br>
bcm2835-v412</p>
<p>#重新啟動<br>
<code>sudo reboot</code></p>
</li>
</ul>
<h3 id="36-測試">3.6 測試</h3>
<p>  啟動後在 raspberry ip 位置。例如: <code>192.168.62.100:8080/stream.html</code> 中，檢查有沒有看到影像串流。</p>
<p>  <code>http://smarthome.edu.tw:8080/?action=streamer</code></p>
<p>  或<br>
  <code>http://smarthome.edu.tw:8080/stream_simple.html</code></p>
<p>  如果要客制化頁面的，可以再在自己的頁面上加上 <code>tag</code><br>
  <code>http://192.168.62.100:8080/?action=stream&quot;</code>，就能捉的到串流影像。</p>
<ul>
<li>
<p>例:</p>
<pre><code class="language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">align</span>=<span class="hljs-string">center</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;560&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;315&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://192.168.62.100:8080/?action=stream&quot;</span>&quot; <span class="hljs-attr">frameborder</span>=<span class="hljs-string">&quot; 0&quot;</span>
      <span class="hljs-attr">allowfullscreen</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</div></code></pre>
</li>
</ul>
<h3 id="37-設置登入帳號和密碼">3.7 設置登入帳號和密碼</h3>
<ul>
<li>
<p>關掉服務</p>
<pre><code class="language-bash"><div><span class="hljs-comment">#查指定程序 id</span>
pidof mjpg_streamer
<span class="hljs-comment">#刪除指定 id</span>
<span class="hljs-built_in">kill</span> -9 [pid of mjpg_streamer]

sudo ./mjpg_streamer -i <span class="hljs-string">&quot;./input_uvc.so -f 10 -r 320x240 -d /dev/video0 -y -n&quot;</span> -o <span class="hljs-string">&quot;./output_http.so -w ./www -p 8080 -c userid:password&quot;</span>
</div></code></pre>
</li>
</ul>
<h3 id="38-開機時自動執行串流伺服器">3.8 開機時自動執行串流伺服器</h3>
<ul>
<li>
<p>操作步驟如下:</p>
<pre><code class="language-python"><div>cd ~/source
nano mjpg.py
</div></code></pre>
<p>內容如下:</p>
<pre><code class="language-yaml"><div><span class="hljs-string">import</span> <span class="hljs-string">os</span>
<span class="hljs-string">os.system(&#x27;LD_LIBRARY_PATH=/usr/local/lib</span> <span class="hljs-string">mjpg_streamer</span> <span class="hljs-string">-i</span> <span class="hljs-string">&quot;input_uvc.so -y -r 1024x768 -n&quot;</span> <span class="hljs-string">-o</span> <span class="hljs-string">&quot;output_http.so -w /home/pi/source/code/mjpg-streamer/www&quot;</span><span class="hljs-string">&#x27;)
</span></div></code></pre>
<p>#改變屬性(可執行)</p>
<pre><code class="language-bash"><div>chmod 755 mjpg.py
sudo nano /etc/crontab

SHELL=/bin/sh

<span class="hljs-comment">#0 0 * * * root  python /home/pi/source/mjpg.py</span>
@reboot root python /home/pi/<span class="hljs-built_in">source</span>/mjpg.py &amp;
</div></code></pre>
<blockquote>
<p>注意: import os 與 os.system() 注意前面不要空行</p>
</blockquote>
</li>
</ul>
<h2 id="4-gpio-控制">4. GPIO 控制</h2>
<h3 id="41-說明">4.1 說明</h3>
<p>  網頁控制 LED(燈與風扇) Relay Control (GPIO)，現在方法使用國外人寫的一個插件模組<a href="http://wiringpi.com/download-and-install/">wiringPI</a>, 然後在網頁上使用執行 linux shell command 來控制腳位(針腳)用 php 控制．</p>
<blockquote>
<p>可改寫成不用這插件, 直接用 <code>python</code> 來控制腳位</p>
</blockquote>
<h3 id="42-腳位控制-gpio">4.2 腳位控制 GPIO</h3>
<ul>
<li>
<p>腳位</p>
<table>
<thead>
<tr>
<th>腳位名稱</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>GPIO26</td>
<td>RELAY IN1 For Fan</td>
</tr>
<tr>
<td>GPIO27</td>
<td>RELAY IN2 For LED</td>
</tr>
<tr>
<td>GPIO22</td>
<td>RELAY IN3 For LED</td>
</tr>
<tr>
<td>GPIO23</td>
<td>RELAY IN4 For LED</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>安裝模組 <code>wiringPi</code></p>
<pre><code class="language-bash"><div>`sudo apt-get install wiringpi`
</div></code></pre>
<blockquote>
<p>目前 PI 都已內建支援 GPIO，使用命令： <code>pinout</code> 可得知腳位訊息。</p>
</blockquote>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot-gpio-pinout.png"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot-gpio-pinout_s.png' class='nofancybox  img-center' /></a></p>
</li>
</ul>
<h3 id="43-測試有無-wiringpi-模組">4.3 測試有無 <code>WiringPi</code> 模組</h3>
<ul>
<li>
<p>檢查 GPIO 版本</p>
<pre><code class="language-bash"><div>gpio -v
</div></code></pre>
</li>
<li>
<p>顯示目前所有 GPIO 的輸入或輸出狀態</p>
<pre><code class="language-bash"><div>sudo gpio readall
</div></code></pre>
<p><a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_gpio_readall.png"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/wiot_gpio_readall_s.png' class='nofancybox  img-center' /></a></p>
</li>
</ul>
<h3 id="44-測試硬體接線狀態">4.4 測試硬體接線狀態</h3>
<ul>
<li>
<p>使用下列指令作測試</p>
<pre><code class="language-bash"><div>gpio -g mode 26 out
gpio -g write 26 1
gpio -g write 26 0

gpio -g mode 27 out
gpio -g write 27 1
gpio -g write 27 0

gpio -g mode 22 out
gpio -g write 22 1
gpio -g write 22 0

gpio -g mode 23 out
gpio -g write 23 1
gpio -g write 23 0
</div></code></pre>
<blockquote>
<p><a href="https://www.raspberrypi.org/documentation/configuration/config-txt/gpio.html">參考文件: GPIO Control</a></p>
</blockquote>
</li>
</ul>
<h3 id="45-使用網頁技術程式控制-gpio">4.5 使用網頁技術程式控制 <code>GPIO</code></h3>
<h4 id="相關網頁技術補充">相關網頁技術補充</h4>
<ol>
<li>jQuery 使用
<ul>
<li>官網: ``</li>
</ul>
</li>
<li>Bootstrap 使用: 需先引入 <code>jQuery</code> 套件。
<ul>
<li>
<p><a href="https://getbootstrap.com/docs/3.4/getting-started/">Getting started．Bootstrap</a></p>
</li>
<li>
<p>找到 <a href="https://getbootstrap.com/docs/3.4/components/">Components 連結</a>, 搜尋元件關鍵字 <a href="https://getbootstrap.com/docs/3.4/components/#navbar">Navbar</a></p>
</li>
<li>
<p>裝置斷點<br>
xs(<code>&lt; = 768px</code>), sm(<code>&gt; = 768px</code>), md(<code>&gt; = 992px</code>), lg(<code>&gt; = 1200px</code>) 或 xl(<code>x &gt; = 1200px</code>)<br>
<a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/grid.jpg"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/grid_s.jpg' class='nofancybox  img-center' /></a></p>
</li>
<li>
<p>class 的格式</p>
<ul>
<li>m <code>margin</code></li>
<li>p <code>padding</code></li>
<li>t <code>margin-top</code> 或 <code>padding-top</code></li>
<li>b <code>margin-bottom</code> 或 <code>padding-bottom</code></li>
<li>l <code>margin-left</code> 或 <code>padding-left</code></li>
<li>r <code>margin-right</code> 或 <code>padding-right</code></li>
<li>x <code>padding-left</code> 和 <code>padding-right</code> 或 <code>margin-left</code> 和 <code>margin-right</code></li>
<li>y <code>padding-top</code> 和 <code>padding-bottom</code> 或 <code>margin-top</code> 和 <code>margin-bottom</code></li>
<li>空白 在元素所有 4 邊上設置 <code>padding</code> 或 <code>margin</code></li>
<li>0 將 <code>padding</code> 或 <code>margin</code> 設置為 <code>0</code></li>
<li>1 將 <code>padding</code> 或 <code>margin</code> 設置為 <code>25rem</code>(如果 <code>font-size=16px</code>, 則為 <code>4px</code>)</li>
<li>2 將 <code>padding</code> 或 <code>margin</code> 設置為 <code>5rem</code>(如果 <code>font-size=16px</code>, 則為 <code>8px</code>)</li>
<li>3 將 <code>padding</code> 或 <code>margin</code> 設置為 <code>1rem</code>(如果 <code>font-size=16px</code>, 則為 <code>16px</code>)</li>
<li>4 將 <code>padding</code> 或 <code>margin</code> 設置為 <code>1.5rem</code>(如果 <code>font-size=16px</code>, 則為 <code>24px</code>)</li>
<li>5 將 <code>padding</code> 或 <code>margin</code> 設置為 <code>3rem</code>(如果 <code>font-size=16px</code>, 則為 <code>48px</code>)</li>
<li>auto 將 margin 設成 auto</li>
<li>col-md-offset-*  往右移動欄位，增加左外距的 * 個欄位。
<ul>
<li>例: .col</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://fontawesome.com/">Font Awesome</a>
<ul>
<li>進入官網。</li>
<li>點擊 <a href="https://fontawesome.com/v5.15/icons">icons 連結</a></li>
<li>搜尋關鍵字，找出合適的字型圖示。<br>
範例: 關鍵字: <code>light</code> 找到 <a href="https://fontawesome.com/v5.15/icons/lightbulb?style=solid">lightbulb</a> 後，點擊 <code>Start Using This Icon</code>，拷貝畫面上的 HTML 代碼來使用這圖示。</li>
</ul>
</li>
</ol>
<h4 id="451-單顆控制">4.5.1 單顆控制</h4>
<ul>
<li>
<p><code>gpio1.php</code><br>
<a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/gpio1.jpg"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/gpio1_s.jpg' class='nofancybox  img-center' /></a></p>
</li>
<li>
<p><code>gpio2.php</code><br>
<a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/gpio2.jpg"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/gpio2_s.jpg' class='nofancybox  img-center' /></a></p>
</li>
<li>
<p><code>gpio3.php</code><br>
<a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/gpio3.jpg"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/gpio3_s.jpg' class='nofancybox  img-center' /></a></p>
</li>
<li>
<p><code>gpio4.php</code><br>
<a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/gpio4.jpg"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/gpio4_s.jpg' class='nofancybox  img-center' /></a></p>
</li>
</ul>
<h4 id="452-多顆控制">4.5.2 多顆控制</h4>
<ul>
<li><code>gpio_all.php</code><br>
<a data-fancybox="gallery" href="https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/gpio_all.jpg"><img src='https://cdn.jsdelivr.net/gh/allen-5183/blog.allen5183.synology.me/images/gpio_all_s.jpg' class='nofancybox  img-center' /></a></li>
</ul>
<h4 id="453-使用-ajax-技術-串接-api-控制">4.5.3 使用 <code>Ajax</code> 技術 串接 <code>API</code> 控制</h4>
<ul>
<li><code>gpio_all_ajax.php</code></li>
<li><code>gpio_all_ajax_api.php</code></li>
</ul>
<h4 id="454-使用-webstorage-儲存狀態控制-led">4.5.4 使用 Webstorage 儲存狀態，控制 LED</h4>
<ul>
<li><code>gpioControl.php</code></li>
</ul>

    </body>
    </html>